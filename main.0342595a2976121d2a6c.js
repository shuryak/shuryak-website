!function(e){function t(t){for(var n,c,i=t[0],o=t[1],s=t[2],m=0,d=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);d.length;)d.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={0:0},l=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="shuryak-website/";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=o;l.push([25,1]),a()}({13:function(e,t,a){},14:function(e,t,a){},25:function(e,t,a){e.exports=a(40)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),i=(a(13),a(6)),o=a(1),s=(a(14),a.p+"66713c63f540c757f55df848c107c671.png"),u=function(){var e=Object(n.useState)(!1),t=e[0],a=e[1],l=function(){a(pageYOffset>20)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),r.a.createElement("header",{className:t?"header-wrapper minimize":"header-wrapper"},r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("img",{src:s,alt:"shuryak logo"}),r.a.createElement("ul",{className:"nav-menu"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Главная")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/articles"},"Статьи")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/donation"},"Донат :з"))),r.a.createElement("p",{className:"logout "+(null!==localStorage.getItem("access_token")?"":"hide"),onClick:function(){localStorage.clear(),location.replace("/")}},"Выйти")))},m=function(){return r.a.createElement("footer",null,r.a.createElement("p",{className:"copyright"},"Alexander Konovalov © 2020"))},d=a(42),p=function(){var e,t=Object(d.a)(Date.now(),new Date(2004,1,24));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"page-header"},"Главная"),r.a.createElement("p",{className:"page-text"},"Меня зовут Саша, мне ",(e=t)+" "+["год","года","лет"][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],", я разработчик, преимущественно по части backend: люблю ",r.a.createElement("mark",null,"C#")," и ",r.a.createElement("mark",null,"ASP.NET Core"),", умею в ",r.a.createElement("mark",null,"PHP")," и ",r.a.createElement("mark",null,"Golang"),". Также интересуюсь низкоуровневым программированием. Люблю писать статьи — причина создания этого сайта."))},f=(a(35),function(e){var t=e.name,a=e.thumbnail,n=e.id;return r.a.createElement(i.b,{to:"/article/"+n,className:"article-thumbnail"},r.a.createElement("h1",{className:"article-title"},t),r.a.createElement("div",{className:"article-fade"}),r.a.createElement("img",{className:"article-image",src:a,alt:""}))}),h=function(e){var t=e.articles;return r.a.createElement("div",{className:"article-list"},r.a.createElement("div",{className:"article-grid"},t.map((function(e,t){return r.a.createElement(f,{name:e.name,thumbnail:e.thumbnail,is_draft:e.is_draft,id:e.id,key:t})}))))},v=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function c(e){try{o(n.next(e))}catch(e){l(e)}}function i(e){try{o(n.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}o((n=n.apply(e,t||[])).next())}))},b=function(e,t){var a,n,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};function E(e,t,a){var n=this;void 0===a&&(a=null);var r={"Content-Type":"application/json"};return localStorage.getItem("access_token")&&(r.Authorization="Bearer "+localStorage.getItem("access_token")),fetch(t,{method:e,body:JSON.stringify(a),headers:r}).then((function(e){return v(n,void 0,void 0,(function(){var t;return b(this,(function(a){switch(a.label){case 0:return t={status:e.status},[4,e.json()];case 1:return[2,(t.data=a.sent(),t)]}}))}))}))}var g,y="http://localhost:8181/api/",k={Create:y+"articles.create",FindOne:y+"articles.findOne",FindMany:y+"articles.findMany",GetById:y+"articles.getById",GetList:y+"articles.getList"},N={Register:y+"users.register",Login:y+"users.login",RefreshTokenPair:y+"users.refreshTokenPair"},x=function(){var e=Object(n.useState)([]),t=e[0],a=e[1];return Object(n.useEffect)((function(){E("POST",k.GetList,{get_drafts:!1,count:10,offset:0}).then((function(e){e.data&&a(e.data)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"page-header"},"Статьи"),r.a.createElement("p",{className:"page-text"},"На этой странице представлен список всех статьей, открывай приглянувшуюся и читай! Надеюсь, тебе понравится! :)"),r.a.createElement(h,{articles:t}))},w=a(18),M=a.n(w),_=a(19),S=a.n(_),I=a(20),O=a.n(I),j=a(21),P=a.n(j),A=a(22),T=a.n(A),C=a(23),L=a.n(C),F=a(24),B=a.n(F);a(36);!function(e){e[e.FirstNameMin=2]="FirstNameMin",e[e.FirstNameMax=32]="FirstNameMax",e[e.LastNameMin=2]="LastNameMin",e[e.LastNameMax=32]="LastNameMax",e[e.NicknameMin=2]="NicknameMin",e[e.NicknameMax=16]="NicknameMax",e[e.PasswordMin=8]="PasswordMin",e[e.PasswordMax=256]="PasswordMax",e[e.ArticleIdMin=3]="ArticleIdMin",e[e.ArticleIdMax=24]="ArticleIdMax",e[e.ArticleNameMin=3]="ArticleNameMin",e[e.ArticleNameMax=100]="ArticleNameMax",e[e.FindMax=10]="FindMax"}(g||(g={}));var D,q=g;!function(e){e[e.BadRequest=0]="BadRequest",e[e.InternalError=1]="InternalError",e[e.BadAuth=2]="BadAuth",e[e.NotAuthorized=3]="NotAuthorized",e[e.InvalidToken=4]="InvalidToken",e[e.ExpiredToken=5]="ExpiredToken",e[e.NotUniqueData=6]="NotUniqueData",e[e.InvalidFieldLength=7]="InvalidFieldLength"}(D||(D={}));var R,G=D,z=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function c(e){try{o(n.next(e))}catch(e){l(e)}}function i(e){try{o(n.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}o((n=n.apply(e,t||[])).next())}))},H=function(e,t){var a,n,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},U=new M.a((void 0===R&&(R={blocks:[]}),{placeholder:"Александр, Вы у пульта управления контентом блога!",tools:{header:S.a,delimiter:O.a,inlineCode:{class:P.a,shortcut:"ALT+C"},code:T.a,table:L.a,list:{class:B.a,inlineToolbar:!0}},data:R})),J=function(){var e=Object(n.useState)(""),t=e[0],a=e[1],l=Object(n.useState)(""),c=l[0],i=l[1],o=Object(n.useState)(""),s=o[0],u=o[1],m=Object(n.useState)(""),d=m[0],p=m[1],h=function(e){try{var t=new URL(e);if(!t.pathname.includes("."))return!1;var a=t.pathname.split(".").reverse()[0];return"jpg"===a||"jpeg"===a||"png"===a}catch(e){return!1}},v=function(e){return z(void 0,void 0,void 0,(function(){var a;return H(this,(function(n){switch(n.label){case 0:return c.length<q.ArticleNameMin&&t.length<q.ArticleIdMin?(p("Недопустимая длина названия и ID!"),[2]):c.length<q.ArticleNameMin?(p("Недопустимая длина названия!"),[2]):t.length<q.ArticleIdMin?(p("Недопустимая длина ID!"),[2]):[4,U.save()];case 1:return a=n.sent(),E("POST",k.Create,{id:t,name:c,thumbnail:s,is_draft:e,article_data:a}).then((function(t){var a=t.data.error_code;if(void 0!==a){var n="";switch(a){case G.InvalidToken:E("POST",N.RefreshTokenPair,{refresh_token:localStorage.getItem("refresh_token")}).then((function(e){if(void 0===e.data.error_code)return localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("access_expires_in",e.data.access_expires_in),void localStorage.setItem("refresh_token",e.data.refresh_token);localStorage.clear(),alert("Ошибка обновления токена! Пожалуйста, повторите попытку входа!")})).then((function(){return v(e)}));break;case G.InvalidFieldLength:n="Недопустимая длина названия или ID";break;case G.NotUniqueData:n="Статья с таким названием или ID уже существует: "+t.data.message;break;case G.BadRequest:n=t.data.message;break;default:n="Непредвиденная ошибка!"}p(n)}else alert("article is saved!")})),[2]}}))}))},b=function(e){h(s);var t=e.target,n=t.name;"id"===n?a(t.value):"name"===n?i(t.value):"thumbnail"===n&&u(t.value)};return r.a.createElement("div",{className:"editor"},r.a.createElement("h1",null,"Редактор статей"),r.a.createElement("p",{className:"page-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam blanditiis, cum cupiditate ea minima nam nobis omnis perspiciatis vel voluptatem."),r.a.createElement("p",{className:"error-message"},d),r.a.createElement("div",{className:"article-top"},r.a.createElement("div",{className:"article-metadata"},r.a.createElement("div",{className:"field-block"},r.a.createElement("label",{htmlFor:"name"},"Название:"),r.a.createElement("input",{id:"name",name:"name",type:"text",className:c.length<q.ArticleNameMin?"article-input bad-input":"article-input",maxLength:q.ArticleNameMax,autoComplete:"off",onChange:b})),r.a.createElement("div",{className:"field-block"},r.a.createElement("label",{htmlFor:"id"},"Текстовый ID:"),r.a.createElement("input",{id:"id",name:"id",type:"text",className:t.length<q.ArticleIdMin?"article-input bad-input":"article-input",maxLength:q.ArticleIdMax,autoComplete:"off",onChange:b})),r.a.createElement("div",{className:"field-block"},r.a.createElement("label",{htmlFor:"thumbnail"},"Ссылка на обложку:"),r.a.createElement("input",{id:"thumbnail",name:"thumbnail",type:"text",className:h(s)?"article-input":"article-input bad-input",autoComplete:"off",onChange:b}))),r.a.createElement(f,{name:c,thumbnail:s,is_draft:!0,id:t})),r.a.createElement("div",{id:"editorjs"}),r.a.createElement("div",{className:"editor-save-buttons"},r.a.createElement("button",{className:"draft-button",onClick:function(){return v(!0)}},"Сохранить как черновик 📓"),r.a.createElement("button",{className:"publish-button",onClick:function(){return v(!1)}},"Опубликовать 📢")))},K=(a(37),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"page-header"},"Донат"),r.a.createElement("p",{className:"page-text"},'Если нравится контент, можно поддержать меня донатом. Просто укажите сумму пожертвования и нажмите "',r.a.createElement("mark",null,"Подарить"),'"! Если хотите, в комментарии платежа можете указать своё имя, никнейм, кличку Вашей собаки, и тогда интернет это не забудет, а я буду рад!'),r.a.createElement("div",{className:"yandex-form"},r.a.createElement("form",{method:"POST",action:"https://money.yandex.ru/quickpay/confirm.xml"},r.a.createElement("input",{type:"hidden",name:"receiver",value:"410015672579074"}),r.a.createElement("input",{type:"hidden",name:"formcomment",value:"shuryak"}),r.a.createElement("input",{type:"hidden",name:"short-dest",value:"shuryak"}),r.a.createElement("input",{type:"hidden",name:"label",value:"$order_id"}),r.a.createElement("input",{type:"hidden",name:"quickpay-form",value:"donate"}),r.a.createElement("input",{type:"hidden",name:"targets",value:"Пожертвование shuryak"}),r.a.createElement("label",{htmlFor:"sum"},"Введите сумму:"),r.a.createElement("input",{type:"number",name:"sum",id:"sum",defaultValue:"50",datatype:"number",min:"0",max:"15000"}),r.a.createElement("label",{htmlFor:"comment"},"Комментарий (необязательно):"),r.a.createElement("textarea",{name:"comment",id:"comment",placeholder:"ʕ ᵔᴥᵔ ʔ"}),r.a.createElement("input",{type:"hidden",name:"need-fio",value:"false"}),r.a.createElement("input",{type:"hidden",name:"need-email",value:"false"}),r.a.createElement("input",{type:"hidden",name:"need-phone",value:"false"}),r.a.createElement("input",{type:"hidden",name:"need-address",value:"false"}),r.a.createElement("div",{className:"payment-type"},r.a.createElement("label",{className:"radio-container"},"Яндекс.Деньгами",r.a.createElement("input",{type:"radio",defaultChecked:!0,name:"paymentType",value:"PC"}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"radio-container"},"Банковской картой",r.a.createElement("input",{type:"radio",name:"paymentType",value:"AC"}),r.a.createElement("span",{className:"checkmark"}))),r.a.createElement("button",{type:"submit"},"Подарить"))))}),V=function(){return(V=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Y=(a(38),function(e){var t=Object(n.useState)(),a=t[0],l=t[1];return Object(n.useEffect)((function(){E("POST","http://localhost:8181/api/articles.getById",{id:e.match.params.id}).then((function(e){e.data&&l(e.data.article_data)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"under-header"}),r.a.createElement("div",{className:"article-content"},function(e){var t=[];if(void 0!==e){for(var a=0,n=0,l=e.blocks;n<l.length;n++){var c=l[n];switch(c.type){case"header":var i="h"+c.data.level;t.push(r.a.createElement(i,V({},{key:a++}),c.data.text));break;case"paragraph":t.push(r.a.createElement("p",{key:a++,dangerouslySetInnerHTML:{__html:c.data.text}}));break;case"table":for(var o=[],s=0,u=0,m=c.data.content;u<m.length;u++){for(var d=[],p=0,f=0,h=m[u];f<h.length;f++){var v=h[f];d.push(r.a.createElement("td",{key:p++,dangerouslySetInnerHTML:{__html:v}}))}o.push(r.a.createElement("tr",{key:s++},d))}t.push(r.a.createElement("table",{key:a++},r.a.createElement("tbody",null,o)));break;case"list":for(var b=[],E=0,g=0,y=c.data.items;g<y.length;g++){var k=y[g];b.push(r.a.createElement("li",{key:E++,dangerouslySetInnerHTML:{__html:k}}))}var N="ordered"===c.data.style?"ol":"ul";t.push(r.a.createElement(N,{key:a++},b))}}return t}}(a)))}),$=(a(39),function(){var e=Object(o.f)(),t=Object(n.useState)(""),a=t[0],l=t[1],c=Object(n.useState)(""),i=c[0],s=c[1],u=Object(n.useState)(""),m=u[0],d=u[1],p=function(e){var t=e.target,a=t.name;"login"===a?l(t.value):"password"===a&&s(t.value)};return null===localStorage.getItem("access_token")?r.a.createElement("div",{className:"auth"},r.a.createElement("h1",null,"Авторизация"),r.a.createElement("p",{className:"page-text"},"Для того, чтобы писать статьи нужно войти :). Вообще, по-хорошему, надо будет запилить регистрацию и возможность комментирования статей, но это потом, хорошо? (. ❛ ᴗ ❛.)"),r.a.createElement("p",{className:"error-message"},m),r.a.createElement("div",{className:"field-block"},r.a.createElement("label",{htmlFor:"login"},"Никнейм:"),r.a.createElement("input",{id:"login",name:"login",type:"text",className:a.length<q.NicknameMin?"auth-input bad-input":"auth-input",maxLength:q.NicknameMax,autoComplete:"off",onChange:p})),r.a.createElement("div",{className:"field-block"},r.a.createElement("label",{htmlFor:"password"},"Пароль:"),r.a.createElement("input",{id:"password",name:"password",type:"password",className:i.length<q.PasswordMin?"auth-input bad-input":"auth-input",maxLength:q.PasswordMax,autoComplete:"off",onChange:p})),r.a.createElement("button",{className:"auth-button",onClick:function(){a.length<q.NicknameMin&&i.length<q.PasswordMin?d("Недопустимая длина никнейма и пароля!"):a.length<q.NicknameMin?d("Недопустимая длина никнейма!"):i.length<q.PasswordMin?d("Недопустимая длина пароля!"):E("POST",N.Login,{nickname:a,password:i}).then((function(e){var t=e.data.error_code;if(void 0===t)return localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("access_expires_in",e.data.access_expires_in),localStorage.setItem("refresh_token",e.data.refresh_token),localStorage.setItem("refresh_expires_in",e.data.refresh_expires_in),void location.replace("/");var a="";switch(t){case G.BadAuth:a="Пользователь с таким никнеймом или паролем не существует!";break;case G.InvalidFieldLength:a="Недопустимая длина никнейма или пароля!";break;default:a="Непредвиденная ошибка!"}d(a)}))}},"Войти")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Ты авторизовался :D"),r.a.createElement("p",{className:"page-text"},"Я очень рад, что ты не хочешь оставаться инкогнито 🕵️, но ",r.a.createElement("mark",null,"авторизация уже успешно выполнена"),", ты в системе, не переживай! (☞ﾟヮﾟ)☞  Можешь вернуться на главную страницу:"),r.a.createElement("button",{onClick:function(){e.push("/")}},"На главную! 📃"))}),Q=function(){return r.a.createElement(i.a,null,r.a.createElement(u,null),r.a.createElement("div",{className:"content-container"},r.a.createElement(o.c,null,r.a.createElement(o.a,{component:p,path:"/",exact:!0}),r.a.createElement(o.a,{component:$,path:"/login"}),r.a.createElement(o.a,{component:J,path:"/editor"}),r.a.createElement(o.a,{component:x,path:"/articles"}),r.a.createElement(o.a,{component:K,path:"/donation"}),r.a.createElement(o.a,{component:Y,path:"/article/:id"}))),r.a.createElement(m,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("app"))}});
//# sourceMappingURL=main.0342595a2976121d2a6c.js.map